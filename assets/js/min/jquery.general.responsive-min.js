(function(){var $,t,e,n,i,o,s,r,a;$=jQuery,t=$(window),n=970,r=window.navigator.userAgent.toLowerCase(),s=window.navigator.appVersion.toLowerCase(),window.is_ie=function(){return-1!==r.indexOf("msie")?-1!==s.indexOf("msie 6.")?6:-1!==s.indexOf("msie 7.")?7:-1!==s.indexOf("msie 8.")?8:-1!==s.indexOf("msie 9.")?9:10:999}(),a=window.innerWidth||document.documentElement.clientWidth,a>n?document.documentElement.className="device-desktop":document.documentElement.className="device-mobile",is_ie<9&&(document.documentElement.className="device-desktop"),o=function(){function t(t){this.point=t,this.$window=$(window),this.globalEvent=new e("global",this.point),this.init()}return t.prototype.init=function(){var t=this,e;return this.globalEvent.check(this.point),window.is_ie<9?!1:(this.$window.resize(function(e){var n;return n=e.target.innerWidth||document.body.clientWidth,t.globalEvent.check(n)}),$(window).on({"global-wide":function(){return document.documentElement.className="device-desktop"},"global-narrow":function(){return!is_ie||is_ie>8?document.documentElement.className="device-mobile":void 0}}),e=window.innerWidth||document.body.clientWidth,this.globalEvent.check(e))},t}(),e=function(){function t(t,e){this.prefix=t,this.point=e,this.$window=$(window),this.state=null}return t.prototype.check=function(t){if("narrow"===this.state){if(this.point<t)return this.$window.trigger(""+this.prefix+"-wide"),this.state="wide"}else{if("wide"!==this.state)return this.point<this.$window.width()?(this.$window.trigger(""+this.prefix+"-wide"),this.state="wide"):(this.$window.trigger(""+this.prefix+"-narrow"),this.state="narrow");if(this.point>=t)return this.$window.trigger(""+this.prefix+"-narrow"),this.state="narrow"}},t}(),i=function(){function e(t,e,n){return this.changeEventName=e,this.restoreEventName=n,this.$node=$(t),this.state=0,this.changeContents=this.$node.attr(this.dataAttrName),this.changeContents=this.changeContents.split(":"),this.contentsTypes[this.changeContents[0]]?("image"==this.changeContents[0]?this.baseContents=this.$node.attr("src"):"link"==this.changeContents[0]&&(this.baseContents=this.$node.attr("href")),void this.setEvent()):!1}return e.prototype.dataAttrName="data-change-content",e.prototype.contentsTypes={image:"<img src='{contents}' alt='{alt}'>",link:"<a href={'contents'}>"},e.prototype.setEvent=function(){var e,n=this;return e={},e[this.changeEventName]=function(){return"image"==n.changeContents[0]?n.$node.attr("src",n.changeContents[1]):"link"==n.changeContents[0]&&n.$node.attr("href",n.changeContents[1]),n.state=1},e[this.restoreEventName]=function(){return n.state>0?("image"==n.changeContents[0]?n.$node.attr("src",n.baseContents):"link"==n.changeContents[0]&&n.$node.attr("href",n.baseContents),n.state=0):void 0},t.on(e)},e}(),$(function(){return $("[data-change-content]").each(function(){return new i(this,"global-wide","global-narrow")}),new o(n)})}).call(this);