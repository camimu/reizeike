!function($){function t(t,n,r){var a=this;return this.on("click.pjax",t,function(t){var o=$.extend({},h(n,r));o.container||(o.container=$(this).attr("data-pjax")||a),e(t,o)})}function e(t,e,n){n=h(e,n);var a=t.currentTarget;if("A"!==a.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==a.protocol||location.hostname!==a.hostname||a.href.indexOf("#")>-1&&d(a)==d(location)||t.isDefaultPrevented())){var o={url:a.href,container:$(a).attr("data-pjax"),target:a},i=$.extend({},o,n),s=$.Event("pjax:click");$(a).trigger(s,[i]),s.isDefaultPrevented()||(r(i),t.preventDefault(),$(a).trigger("pjax:clicked",[i]))}}function n(t,e,n){n=h(e,n);var a=t.currentTarget;if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var o={type:a.method.toUpperCase(),url:a.action,container:$(a).attr("data-pjax"),target:a};if("GET"!==o.type&&void 0!==window.FormData)o.data=new FormData(a),o.processData=!1,o.contentType=!1;else{if($(a).find(":file").length)return;o.data=$(a).serializeArray()}r($.extend({},o,n)),t.preventDefault()}function r(t){function e(t,e,r){r||(r={}),r.relatedTarget=n;var a=$.Event(t,r);return i.trigger(a,e),!a.isDefaultPrevented()}t=$.extend(!0,{},$.ajaxSettings,r.defaults,t),$.isFunction(t.url)&&(t.url=t.url());var n=t.target,a=f(t.url).hash,i=t.context=m(t.container);t.data||(t.data={}),$.isArray(t.data)?t.data.push({name:"_pjax",value:i.selector}):t.data._pjax=i.selector;var s;t.beforeSend=function(n,r){if("GET"!==r.type&&(r.timeout=0),n.setRequestHeader("X-PJAX","true"),n.setRequestHeader("X-PJAX-Container",i.selector),!e("pjax:beforeSend",[n,r]))return!1;r.timeout>0&&(s=setTimeout(function(){e("pjax:timeout",[n,t])&&n.abort("timeout")},r.timeout),r.timeout=0);var o=f(r.url);a&&(o.hash=a),t.requestUrl=p(o)},t.complete=function(n,r){s&&clearTimeout(s),e("pjax:complete",[n,r,t]),e("pjax:end",[n,t])},t.error=function(n,r,a){var i=g("",n,t),s=e("pjax:error",[n,r,a,t]);"GET"==t.type&&"abort"!==r&&s&&o(i.url)},t.success=function(n,s,c){var l=r.state,p="function"==typeof $.pjax.defaults.version?$.pjax.defaults.version():$.pjax.defaults.version,d=c.getResponseHeader("X-PJAX-Version"),h=g(n,c,t),m=f(h.url);if(a&&(m.hash=a,h.url=m.href),p&&d&&p!==d)return void o(h.url);if(!h.contents)return void o(h.url);r.state={id:t.id||u(),url:h.url,title:h.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(r.state,h.title,h.url);try{document.activeElement.blur()}catch(v){}h.title&&(document.title=h.title),e("pjax:beforeReplace",[h.contents,t],{state:r.state,previousState:l}),i.html(h.contents);var x=i.find("input[autofocus], textarea[autofocus]").last()[0];x&&document.activeElement!==x&&x.focus(),j(h.scripts);var y=t.scrollTo;if(a){var w=decodeURIComponent(a.slice(1)),b=document.getElementById(w)||document.getElementsByName(w)[0];b&&(y=$(b).offset().top)}"number"==typeof y&&$(window).scrollTop(y),e("pjax:success",[n,s,c,t])},r.state||(r.state={id:u(),url:window.location.href,title:document.title,container:i.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(r.state,document.title)),c(r.xhr),r.options=t;var d=r.xhr=$.ajax(t);return d.readyState>0&&(t.push&&!t.replace&&(y(r.state.id,l(i)),window.history.pushState(null,"",t.requestUrl)),e("pjax:start",[d,t]),e("pjax:send",[d,t])),r.xhr}function a(t,e){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r($.extend(n,h(t,e)))}function o(t){window.history.replaceState(null,"",r.state.url),window.location.replace(t)}function i(t){P||c(r.xhr);var e=r.state,n=t.state,a;if(n&&n.container){if(P&&C==n.url)return;if(e){if(e.id===n.id)return;a=e.id<n.id?"forward":"back"}var i=D[n.id]||[],s=$(i[0]||n.container),u=i[1];if(s.length){e&&w(a,e.id,l(s));var p=$.Event("pjax:popstate",{state:n,direction:a});s.trigger(p);var f={id:n.id,url:n.url,container:s,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};if(u){s.trigger("pjax:start",[null,f]),r.state=n,n.title&&(document.title=n.title);var d=$.Event("pjax:beforeReplace",{state:n,previousState:e});s.trigger(d,[u,f]),s.html(u),s.trigger("pjax:end",[null,f])}else r(f);s[0].offsetHeight}else o(location.href)}P=!1}function s(t){var e=$.isFunction(t.url)?t.url():t.url,n=t.type?t.type.toUpperCase():"GET",r=$("<form>",{method:"GET"===n?"GET":"POST",action:e,style:"display:none"});"GET"!==n&&"POST"!==n&&r.append($("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var a=t.data;if("string"==typeof a)$.each(a.split("&"),function(t,e){var n=e.split("=");r.append($("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if($.isArray(a))$.each(a,function(t,e){r.append($("<input>",{type:"hidden",name:e.name,value:e.value}))});else if("object"==typeof a){var o;for(o in a)r.append($("<input>",{type:"hidden",name:o,value:a[o]}))}$(document.body).append(r),r.submit()}function c(t){t&&t.readyState<4&&(t.onreadystatechange=$.noop,t.abort())}function u(){return(new Date).getTime()}function l(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[t.selector,e.contents()]}function p(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function f(t){var e=document.createElement("a");return e.href=t,e}function d(t){return t.href.replace(/#.*/,"")}function h(t,e){return t&&e?e.container=t:e=$.isPlainObject(t)?t:{container:t},e.container&&(e.container=m(e.container)),e}function m(t){if(t=$(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return $("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function v(t,e){return t.filter(e).add(t.find(e))}function x(t){return $.parseHTML(t,document,!0)}function g(t,e,n){var r={},a=/<html/i.test(t),o=e.getResponseHeader("X-PJAX-URL");if(r.url=o?p(f(o)):n.requestUrl,a)var i=$(x(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),s=$(x(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var i=s=$(x(t));if(0===s.length)return r;if(r.title=v(i,"title").last().text(),n.fragment){if("body"===n.fragment)var c=s;else var c=v(s,n.fragment).first();c.length&&(r.contents="body"===n.fragment?c:c.contents(),r.title||(r.title=c.attr("title")||c.data("title")))}else a||(r.contents=s);return r.contents&&(r.contents=r.contents.not(function(){return $(this).is("title")}),r.contents.find("title").remove(),r.scripts=v(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=$.trim(r.title)),r}function j(t){if(t){var e=$("script[src]");t.each(function(){var t=this.src,n=e.filter(function(){return this.src===t});if(!n.length){var r=document.createElement("script"),a=$(this).attr("type");a&&(r.type=a),r.src=$(this).attr("src"),document.head.appendChild(r)}})}}function y(t,e){D[t]=e,U.push(t),b(R,0),b(U,r.defaults.maxCacheLength)}function w(t,e,n){var a,o;D[e]=n,"forward"===t?(a=U,o=R):(a=R,o=U),a.push(e),(e=o.pop())&&delete D[e],b(a,r.defaults.maxCacheLength)}function b(t,e){for(;t.length>e;)delete D[t.shift()]}function T(){return $("meta").filter(function(){var t=$(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function E(){$.fn.pjax=t,$.pjax=r,$.pjax.enable=$.noop,$.pjax.disable=S,$.pjax.click=e,$.pjax.submit=n,$.pjax.reload=a,$.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:T},$(window).on("popstate.pjax",i)}function S(){$.fn.pjax=function(){return this},$.pjax=s,$.pjax.enable=E,$.pjax.disable=$.noop,$.pjax.click=$.noop,$.pjax.submit=$.noop,$.pjax.reload=function(){window.location.reload()},$(window).off("popstate.pjax",i)}var P=!0,C=window.location.href,A=window.history.state;A&&A.container&&(r.state=A),"state"in window.history&&(P=!1);var D={},R=[],U=[];$.inArray("state",$.event.props)<0&&$.event.props.push("state"),$.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),$.support.pjax?E():S()}(jQuery);